<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIABÈTE SCAN - Bilan Vitalité</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #f4f7f6; color: #344e41; font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        .card-zen { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border: 1px solid #e0e7e5; }
        .accent-green { color: #588157; }
        .bg-green-soft { background-color: #a3b18a; }
        .progress-bar { transition: width 0.6s cubic-bezier(0.23, 1, 0.32, 1); }
        .btn-yes { background-color: #588157; transition: all 0.3s ease; }
        .btn-yes:hover { background-color: #3a5a40; transform: translateY(-2px); }
    </style>
</head>
<body class="min-h-screen antialiased">

    <div class="max-w-xl mx-auto px-6 py-16">
        <header class="text-center mb-12">
            <h1 class="text-4xl tracking-tight accent-green mb-2 uppercase font-bold">DIABÈTE SCAN</h1>
            <div class="h-0.5 w-12 bg-green-soft mx-auto mb-4"></div>
            <p class="text-gray-500 text-sm">Retrouvez l'équilibre de votre terrain naturellement</p>
        </header>

        <div id="quiz-container" class="card-zen rounded-[2.5rem] p-10 shadow-xl relative overflow-hidden">
            <div class="w-full bg-gray-200 h-1.5 rounded-full mb-10">
                <div id="progress" class="bg-green-soft h-1.5 rounded-full progress-bar" style="width: 0%"></div>
            </div>

            <div id="question-box">
                <span id="pill-label" class="text-[#588157] text-[10px] font-bold uppercase tracking-widest bg-[#a3b18a]/10 px-4 py-1 rounded-full border border-[#a3b18a]/20">Initialisation</span>
                <h2 id="question-text" class="text-2xl font-medium leading-relaxed text-[#344e41] mt-8 mb-12 min-h-[100px]">Analyse de vos habitudes...</h2>
                
                <div class="flex flex-col gap-4">
                    <button onclick="nextQuestion(true)" class="btn-yes w-full py-5 text-white rounded-2xl font-bold text-lg shadow-md uppercase tracking-wide">
                        Oui, je le sens
                    </button>
                    <button onclick="nextQuestion(false)" class="w-full py-4 bg-gray-100 hover:bg-gray-200 text-gray-500 rounded-2xl transition-all font-bold text-sm uppercase tracking-widest">
                        Non
                    </button>
                </div>
            </div>
        </div>

        <div id="results-container" class="hidden">
            <div class="card-zen rounded-[2.5rem] p-10 text-center shadow-2xl">
                <p class="text-gray-400 uppercase text-[10px] font-bold tracking-[0.2em] mb-2">Votre score d'encombrement</p>
                <div id="score-percent" class="text-7xl font-bold text-[#588157] mb-6 tracking-tighter">0%</div>
                
                <p id="result-message" class="text-md text-gray-600 mb-10 leading-relaxed"></p>
                
                <div id="conclusions-box" class="bg-[#f4f7f6] p-8 rounded-3xl text-left mb-12 border border-gray-100">
                    <h3 class="text-[#588157] font-bold mb-6 uppercase text-[11px] tracking-[0.1em] border-b border-green-200 pb-2 text-center">Ce qui bloque chez vous</h3>
                    <div id="grouped-issues" class="space-y-8"></div>
                </div>

                <a href="https://diabete-soft.com" class="block w-full py-6 bg-[#588157] text-white hover:bg-[#344e41] transition-all rounded-3xl font-bold text-lg uppercase tracking-widest shadow-lg text-center">
                    Accéder à Diabète Soft
                </a>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            { p: "Rythme Biologique", q: "Le matin, vous ne pouvez pas démarrer sans un café ou un produit sucré.", r: "Votre corps a oublié comment créer sa propre énergie au réveil." },
            { p: "Rythme Biologique", q: "Le soir, vous avez un 'coup de boost' qui vous empêche de dormir tôt.", r: "Votre horloge interne est déréglée : votre pancréas travaille quand il devrait dormir." },
            { p: "Hygienisme Alimentaire", q: "La majorité de ce que vous mangez est cuit, en boîte ou industriel.", r: "Votre nourriture manque de vie et d'enzymes pour bien digérer." },
            { p: "Hygienisme Alimentaire", q: "Votre langue est chargée (blanche ou jaune) au réveil.", r: "Votre corps est encombré de déchets qu'il n'arrive plus à évacuer." },
            { p: "Psycho-Emotionnelle", q: "Vous avez souvent la sensation de bloquer votre respiration (apnée).", r: "Votre stress fabrique du sucre en interne, même sans manger sucré." },
            { p: "Psycho-Emotionnelle", q: "Dès qu'une émotion forte arrive, vous ressentez le besoin de manger.", r: "Votre cerveau utilise le sucre comme une béquille pour vos nerfs." },
            { p: "Hygienisme Physique", q: "Vous vous sentez souvent gonflé (mains, pieds ou ventre).", r: "L'eau et les déchets stagnent dans votre corps au lieu de circuler." },
            { p: "Hygienisme Physique", q: "Vous passez la plus grande partie de votre journée assis.", r: "Votre moteur est éteint : vos muscles ne consomment plus le sucre." }
        ];

        let currentIdx = 0;
        let yesAnswers = [];

        function updateUI() {
            if (currentIdx < questions.length) {
                document.getElementById('pill-label').innerText = questions[currentIdx].p;
                document.getElementById('question-text').innerText = questions[currentIdx].q;
                document.getElementById('progress').style.width = ((currentIdx) / questions.length * 100) + "%";
            } else {
                document.getElementById('progress').style.width = "100%";
                setTimeout(showResults, 300);
            }
        }

        function nextQuestion(isYes) {
            if (isYes) yesAnswers.push(questions[currentIdx]);
            currentIdx++;
            updateUI();
        }

        function showResults() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('results-container').classList.remove('hidden');

            const score = Math.round((yesAnswers.length / questions.length) * 100);
            document.getElementById('score-percent').innerText = score + "%";
            
            const msgEl = document.getElementById('result-message');
            if (score <= 30) msgEl.innerText = "Votre corps résiste encore, mais les premiers verrous s'installent.";
            else if (score <= 70) msgEl.innerText = "Votre système est saturé. Faire régime ne suffit plus, il faut relancer vos fonctions vitales.";
            else msgEl.innerText = "Alerte : Votre terrain est totalement bloqué. Votre corps ne gère plus l'énergie correctement.";

            const container = document.getElementById('grouped-issues');
            container.innerHTML = ""; 

            const grouped = yesAnswers.reduce((acc, item) => {
                if (!acc[item.p]) acc[item.p] = [];
                acc[item.p].push(item.r);
                return acc;
            }, {});

            for (const [category, items] of Object.entries(grouped)) {
                const section = document.createElement('div');
                section.className = "mb-6";
                
                const title = document.createElement('h4');
                title.className = "text-[#588157] text-sm font-bold mb-3 uppercase";
                title.innerText = `Votre problème c'est l'${category} :`;
                
                const list = document.createElement('ul');
                list.className = "space-y-2";
                
                items.forEach(text => {
                    const li = document.createElement('li');
                    li.className = "text-sm text-gray-600 flex items-start pl-2";
                    li.innerHTML = `<span class="text-[#a3b18a] mr-3 font-bold">-</span> <span>${text}</span>`;
                    list.appendChild(li);
                });

                section.appendChild(title);
                section.appendChild(list);
                container.appendChild(section);
            }
        }
        updateUI();
    </script>
</body>
</html>
